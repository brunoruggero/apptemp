{"ast":null,"code":"import _slicedToArray from\"/home/brunoruggero/cursos/reactjs/apptemp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Search(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),cidade=_useState2[0],setCidade=_useState2[1];function searchInput(e){e.preventDefault();// setCidade(\"\");\nvar currentValue=document.querySelector('input[name=searchInput]').value;// Request API\nvar url=\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(currentValue,\"&appid=ec8686046d75b63040bab1bae08c984a&lang=pt_br&units=metric\");fetch(url).then(function(response){return response.json();}).then(function(data){var main=data.main,name=data.name,sys=data.sys,weather=data.weather,wind=data.wind,clouds=data.clouds,coord=data.coord;if(sys!=undefined){if(weather!=undefined){var icon=\"https://s3-us-west-2.amazonaws.com/s.cdpn.io/162656/\".concat(weather[0][\"icon\"],\".svg\");setCidade(\"\\n                        <div class=\\\"resultTemp\\\">\\n                            <div class=\\\"resultTempImg\\\">\\n                                <img src=\\\"\".concat(icon,\"\\\"/>\\n                                <div class=\\\"temps\\\">\\n                                    <p class=\\\"temp\\\">\").concat(Math.round(main.temp),\" <span>\\xBAC</span></p>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"resultStatus\\\">\\n                                <p>\\n                                    <span class=\\\"humidity\\\">Umidade: \").concat(main.humidity,\"% </span>\\n                                    <span class=\\\"wind\\\">Vento: \").concat(Math.round(wind.speed),\" km/h</span>\\n                                </p>\\n                                <p class=\\\"description\\\">\\n                                    <span class=\\\"descript\\\">\").concat(weather[0]['description'],\"</span>\\n                                    <span class=\\\"clouds\\\">Nebulosidade: \").concat(Math.round(clouds.all),\"%</span>\\n                                </p>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"resultOther\\\">\\n                            <p class=\\\"city\\\">\").concat(name,\"</p>\\n                            <p class=\\\"coord\\\">\").concat(coord.lon,\"  \").concat(coord.lat,\"</p>\\n                        </div>\\n                    \"));}}else{setCidade(\"\");}});}return/*#__PURE__*/_jsxs(\"div\",{className:\"searchWraper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Busca por cidade \\uD83C\\uDFD9\\uFE0F\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return searchInput(e);},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"searchInput\",placeholder:props.placeholder}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Buscar\"})]})]}),cidade!=\"\"?/*#__PURE__*/_jsx(\"div\",{className:\"searchResult\",dangerouslySetInnerHTML:{__html:cidade}}):/*#__PURE__*/_jsx(\"div\",{className:\"noResult\",children:\"Nenhum resultado encotrado.\"})]});}","map":{"version":3,"names":["useState","Search","props","cidade","setCidade","searchInput","e","preventDefault","currentValue","document","querySelector","value","url","fetch","then","response","json","data","main","name","sys","weather","wind","clouds","coord","undefined","icon","Math","round","temp","humidity","speed","all","lon","lat","placeholder","__html"],"sources":["/home/brunoruggero/cursos/reactjs/apptemp/src/Search.js"],"sourcesContent":["import {useState} from 'react';\n\nexport default function Search(props){\n\n    const [cidade, setCidade] = useState(\"\");\n\n    function searchInput(e){\n        e.preventDefault();\n        // setCidade(\"\");\n        let currentValue = document.querySelector('input[name=searchInput]').value;\n\n        // Request API\n        const url = `https://api.openweathermap.org/data/2.5/weather?q=${currentValue}&appid=ec8686046d75b63040bab1bae08c984a&lang=pt_br&units=metric`;\n        fetch(url)\n        .then(response => response.json())\n        .then(data => {\n            const {main, name, sys, weather, wind, clouds, coord} = data;\n            if(sys != undefined){\n                \n                if(weather != undefined){\n                    const icon = `https://s3-us-west-2.amazonaws.com/s.cdpn.io/162656/${weather[0][\"icon\"]}.svg`;\n                    setCidade(`\n                        <div class=\"resultTemp\">\n                            <div class=\"resultTempImg\">\n                                <img src=\"${icon}\"/>\n                                <div class=\"temps\">\n                                    <p class=\"temp\">${Math.round(main.temp)} <span>¬∫C</span></p>\n                                </div>\n                            </div>\n                            <div class=\"resultStatus\">\n                                <p>\n                                    <span class=\"humidity\">Umidade: ${main.humidity}% </span>\n                                    <span class=\"wind\">Vento: ${Math.round(wind.speed)} km/h</span>\n                                </p>\n                                <p class=\"description\">\n                                    <span class=\"descript\">${weather[0]['description']}</span>\n                                    <span class=\"clouds\">Nebulosidade: ${Math.round(clouds.all)}%</span>\n                                </p>\n                            </div>\n                        </div>\n                        <div class=\"resultOther\">\n                            <p class=\"city\">${name}</p>\n                            <p class=\"coord\">${coord.lon}  ${coord.lat}</p>\n                        </div>\n                    `);\n                }\n            }else{\n                setCidade(\"\");\n            }\n        })\n\n    }\n\n    return(\n        <div className=\"searchWraper\">\n            <div className=\"search\">\n                <h2>Busca por cidade üèôÔ∏è</h2>\n                <form onSubmit={(e) => searchInput(e)}>\n                    <input type=\"text\" name=\"searchInput\" \n                        placeholder={props.placeholder}/>\n                    <input type=\"submit\" value=\"Buscar\" />\n                </form>\n            </div>\n                {\n                    (cidade != \"\")?\n                    <div className=\"searchResult\" dangerouslySetInnerHTML={{__html: cidade}} />:\n                    <div className=\"noResult\">Nenhum resultado encotrado.</div>\n                }\n        </div>\n    )\n}"],"mappings":"+HAAA,OAAQA,QAAQ,KAAO,OAAO,CAAC,wFAE/B,cAAe,SAASC,OAAM,CAACC,KAAK,CAAC,CAEjC,cAA4BF,QAAQ,CAAC,EAAE,CAAC,wCAAjCG,MAAM,eAAEC,SAAS,eAExB,QAASC,YAAW,CAACC,CAAC,CAAC,CACnBA,CAAC,CAACC,cAAc,EAAE,CAClB;AACA,GAAIC,aAAY,CAAGC,QAAQ,CAACC,aAAa,CAAC,yBAAyB,CAAC,CAACC,KAAK,CAE1E;AACA,GAAMC,IAAG,6DAAwDJ,YAAY,mEAAiE,CAC9IK,KAAK,CAACD,GAAG,CAAC,CACTE,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACV,GAAOC,KAAI,CAA6CD,IAAI,CAArDC,IAAI,CAAEC,IAAI,CAAuCF,IAAI,CAA/CE,IAAI,CAAEC,GAAG,CAAkCH,IAAI,CAAzCG,GAAG,CAAEC,OAAO,CAAyBJ,IAAI,CAApCI,OAAO,CAAEC,IAAI,CAAmBL,IAAI,CAA3BK,IAAI,CAAEC,MAAM,CAAWN,IAAI,CAArBM,MAAM,CAAEC,KAAK,CAAIP,IAAI,CAAbO,KAAK,CACpD,GAAGJ,GAAG,EAAIK,SAAS,CAAC,CAEhB,GAAGJ,OAAO,EAAII,SAAS,CAAC,CACpB,GAAMC,KAAI,+DAA0DL,OAAO,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,QAAM,CAC5FjB,SAAS,uKAGesB,IAAI,+HAEMC,IAAI,CAACC,KAAK,CAACV,IAAI,CAACW,IAAI,CAAC,sRAKLX,IAAI,CAACY,QAAQ,uFACnBH,IAAI,CAACC,KAAK,CAACN,IAAI,CAACS,KAAK,CAAC,wLAGzBV,OAAO,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,8FACbM,IAAI,CAACC,KAAK,CAACL,MAAM,CAACS,GAAG,CAAC,mOAKjDb,IAAI,iEACHK,KAAK,CAACS,GAAG,cAAKT,KAAK,CAACU,GAAG,+DAEhD,CACN,CACJ,CAAC,IAAI,CACD9B,SAAS,CAAC,EAAE,CAAC,CACjB,CACJ,CAAC,CAAC,CAEN,CAEA,mBACI,aAAK,SAAS,CAAC,cAAc,wBACzB,aAAK,SAAS,CAAC,QAAQ,wBACnB,oBAAI,qCAAoB,EAAK,cAC7B,cAAM,QAAQ,CAAE,kBAACE,CAAC,QAAKD,YAAW,CAACC,CAAC,CAAC,EAAC,wBAClC,cAAO,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CACjC,WAAW,CAAEJ,KAAK,CAACiC,WAAY,EAAE,cACrC,cAAO,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,QAAQ,EAAG,GACnC,GACL,CAEGhC,MAAM,EAAI,EAAE,cACb,YAAK,SAAS,CAAC,cAAc,CAAC,uBAAuB,CAAE,CAACiC,MAAM,CAAEjC,MAAM,CAAE,EAAG,cAC3E,YAAK,SAAS,CAAC,UAAU,UAAC,6BAA2B,EAAM,GAEjE,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}